version: "3"
services:
  neo4j:
    image: 'neo4j:latest'
    environment:
      NEO4J_AUTH: ${DB_USERNAME}/${DB_PASSWORD}
    ports:
      - '7474:7474'
      - '7687:7687'
  frontend:
    image: "szymongrabski/sneakerstore-frontend"
    mem_limit: 128m
    hostname: frontend
  backend:
    image: "szymongrabski/sneakerstore-backend"
    mem_limit: 128m
    hostname: backend
    environment:
      - DB_USERNAME=$DB_USERNAME
      - DB_PASSWORD=$DB_PASSWORD
      - DB_URI=$DB_URI
    env_file:
      - ./backend/src/.env
  nginx:
    image: "szymongrabski/sneakerstore-nginx"
    mem_limit: 128m
    hostname: nginx
    ports:
      - "80:80"